<div class="card">
  <div class="card-header">
    <div class="title">Manage Staff</div>
    <div class="actions">
      <button mat-flat-button color="primary" (click)="create()">
        <mat-icon>add</mat-icon>&nbsp;New Staff
      </button>
      <mat-form-field appearance="outline" class="search">
        <mat-label>Search</mat-label>
        <input matInput (keyup.enter)="onSearch($any($event.target).value)" placeholder="Name, email, positionâ€¦" />
      </mat-form-field>
    </div>
  </div>

  <div class="table-wrap">
    <table mat-table [dataSource]="rows" class="mat-elevation-z1">

      <ng-container matColumnDef="displayName">
        <th mat-header-cell *matHeaderCellDef (click)="onSort('displayName')" class="sortable">Display Name</th>
        <td mat-cell *matCellDef="let r">{{ r.displayName }}</td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef (click)="onSort('email')" class="sortable">Email</th>
        <td mat-cell *matCellDef="let r">{{ r.email }}</td>
      </ng-container>

      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef (click)="onSort('position')" class="sortable">Position</th>
        <td mat-cell *matCellDef="let r">{{ r.position }}</td>
      </ng-container>

      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef (click)="onSort('firstName')" class="sortable">First</th>
        <td mat-cell *matCellDef="let r">{{ r.firstName }}</td>
      </ng-container>

      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef (click)="onSort('lastName')" class="sortable">Last</th>
        <td mat-cell *matCellDef="let r">{{ r.lastName }}</td>
      </ng-container>

      <ng-container matColumnDef="hireDate">
        <th mat-header-cell *matHeaderCellDef (click)="onSort('hireDate')" class="sortable">Hired</th>
        <td mat-cell *matCellDef="let r">{{ r.hireDate | date:'yyyy-MM-dd' }}</td>
      </ng-container>

      <ng-container matColumnDef="isActive">
        <th mat-header-cell *matHeaderCellDef>Active</th>
        <td mat-cell *matCellDef="let r">
          <mat-icon [matTooltip]="r.isActive ? 'Active' : 'Inactive'">{{ r.isActive ? 'check_circle' : 'cancel' }}</mat-icon>
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="right">Actions</th>
        <td mat-cell *matCellDef="let r" class="right my-actions">
          <button mat-icon-button (click)="edit(r.id)" matTooltip="Edit"><mat-icon>edit</mat-icon></button>
          <button mat-icon-button  (click)="delete(r.id)" matTooltip="Delete"><mat-icon class="icon-delete">delete</mat-icon></button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columns"></tr>
      <tr mat-row *matRowDef="let row; columns: columns;"></tr>
    </table>
  </div>

  <mat-paginator [length]="total"
                 [pageSize]="pageSize"
                 [pageIndex]="pageNumber - 1"
                 [pageSizeOptions]="[5,10,25,50]"
                 (page)="onPage($event)">
  </mat-paginator>
</div>
